!!!
%html
  %head
    %meta{:content => "width=device-width, initial-scale=1", :name => "viewport"}
      %title Beehive
      = stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true
      = javascript_include_tag 'application', 'data-turbolinks-track' => true
      = csrf_meta_tags
  %body
    %nav.uk-navbar#bg{"data-uk-sticky" => ""}
      .uk-container.uk-container-center
        %a.uk-navbar-brand.uk-hidden-small.logo{:href => root_path, title: 'Beehive'}
        .uk-navbar-flip
          %a.uk-navbar-toggle.uk-visible-small{"data-uk-offcanvas" => "{target:'#offcanvas'}"}
          - if @logged_in
            .uk-navbar-content.uk-hidden-small
              .uk-button-group
                %button.uk-button
                  = @current_user.first_name
                %div{"data-uk-dropdown" => "{mode:'click'}"}
                  %button.uk-button
                    %i.uk-icon-caret-down
                  .uk-dropdown.uk-dropdown-flip.uk-dropdown-width-2
                    .uk-grid.uk-grid-divider.uk-dropdown-grid
                      .uk-width-2-3
                        %ul.uk-nav.uk-nav-dropdown.uk-panel
                          %li.uk-nav-header
                            = @current_user.first_name
                      .uk-width-1-3
                        %ul.uk-nav.uk-nav-dropdown.uk-panel
                          %li
                            = link_to "Sign out", logout_path, method: :delete
          - else
            %ul.uk-navbar-nav.uk-hidden-small
              %li
                %a{ href: tour_path } Find out more
              %li
                %a{"data-uk-offcanvas" => "", :href => "#offcanvas"} Sign in
        %a.uk-navbar-brand.uk-visible-small.logo{:href => root_path}

    .uk-container.uk-container-center
      - if flash[:notice]
        .uk-alert.uk-alert-success{'data-uk-alert' => ''}
          %a.uk-alert-close.uk-close
          %p.flash-notice= flash[:notice]
      - if flash[:alert]
        .uk-alert.uk-alert-danger{'data-uk-alert' => ''}
          %a.uk-alert-close.uk-close
          %p.flash-notice= flash[:alert]

    = yield

    .uk-grid.uk-margin
      .uk-width-medium-1-1
        .uk-text-center
          %p
            %a.uk-button.uk-button-mini{:href => "#"} About
            %a.uk-button.uk-button-mini{:href => "#"} Legal
            %a.uk-button.uk-button-mini{:href => "#"} Contact
          %small
            %a{href: "http://www.forwardfoundation.org.uk", target: "_blank"} &copy; Forward Foundation #{Date.today.year}

    #offcanvas.uk-offcanvas
      .uk-offcanvas-bar.uk-offcanvas-bar-flip.uk-offcanvas-bar-show
        - if @logged_in
          %ul.uk-nav.uk-nav-offcanvas
            %li.uk-nav-header.uk-margin-top.uk-text-center
              = @current_user.first_name
            %li
              = link_to "Sign out", logout_path, method: :delete
        - else
          %ul.uk-nav.uk-nav-offcanvas
            %li.uk-nav-header.uk-margin-top.uk-text-center Sign in
            = form_tag login_path, method: 'post', class: 'uk-panel uk-form' do
              .uk-form-row
                = text_field_tag :email, nil, placeholder: 'Email', type: 'email', class: 'uk-width-1-1'
              .uk-form-row{style: 'position: relative;'}
                = password_field_tag :password, nil, placeholder: 'Password', type: 'password', class: 'form-password uk-width-1-1'
                %a.uk-form-password-toggle{"data-uk-form-password" => "", :href => ""} Show
              .uk-form-row
                = submit_tag 'Sign in', class: 'uk-width-1-1 uk-button uk-button-primary', style: 'color: #fff; font-size: 16px'
              .uk-form-row.uk-text-small
                %label.uk-float-left
                  = check_box_tag :remember_me, 1, params[:remember_me]
                  Remember Me
                = link_to 'Forgot Password?', new_password_reset_path, class: 'uk-float-right uk-link'
