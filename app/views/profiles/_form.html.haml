.uk-grid
  - if mode == :new
    .uk-width-1-1
      %h4.uk-text-bold
        Year of profile
      .uk-form-controls
        = f.input :year, as: :select, :collection => @recipient.valid_profile_years, :include_blank => false, input_html: { class: 'uk-width-1-1' }
        = f.error :year, class: 'uk-text-small uk-text-warning'
    .uk-width-1-1.uk-margin-top
      %hr.uk-width-1-1.uk-margin-top-remove.uk-margin-bottom
  .uk-width-1-1
    %h4.uk-text-bold Location
  .uk-width-1-1.uk-margin-top
    %label.uk-form-label
      Where does your organisation benefit people?
      %a{"data-uk-toggle" => "{target:'#districts_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :districts, class: 'uk-text-small uk-hidden', id: 'districts_hint'
    .uk-form-controls
      = f.association :districts, label_method: :label, value_method: :id, input_html: {class: 'chosen-select'}
      = f.error :districts, class: 'uk-text-small uk-text-warning'

  .uk-width-1-1.uk-margin-top
    %hr.uk-width-1-1
    %h4.uk-text-bold Beneficiaries
  .uk-width-1-1.uk-margin-top
    %label.uk-form-label
      Who does your organisation target?
      %a{"data-uk-toggle" => "{target:'#beneficiaries_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :beneficiaries, class: 'uk-text-small uk-hidden', id: 'beneficiaries_hint'
    .uk-form-controls
      = f.association :beneficiaries, label_method: :label, value_method: :id, input_html: {class: 'chosen-select'}
      = f.error :beneficiaries, class: 'uk-text-small uk-text-warning'

  .uk-width-medium-1-1.uk-margin-top
    %label.uk-form-label Which gender does your organisation target?
    .uk-form-controls
      = f.input :gender, collection: Profile::GENDERS, input_html: { class: 'uk-width-1-1' }
      = f.error :gender, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-top
    %label.uk-form-label Min. age you target
    .uk-form-controls
      = f.input :min_age, error: false, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :min_age, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-top
    %label.uk-form-label Max. age you target
    .uk-form-controls
      = f.input :max_age, error: false, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :max_age, class: 'uk-text-small uk-text-warning'

  .uk-width-1-1.uk-margin-top
    %hr.uk-width-1-1
    %h4.uk-text-bold Team
  .uk-width-medium-1-2.uk-margin-top
    %label.uk-form-label
      Number of voluntary staff
      %a{"data-uk-toggle" => "{target:'#voluntary_staff_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :volunteer_count, class: 'uk-text-small uk-hidden', id: 'voluntary_staff_hint'
    .uk-form-controls
      = f.input :volunteer_count, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :volunteer_count, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-top
    %label.uk-form-label Number of paid staff
    .uk-form-controls
      = f.input :staff_count, error: false, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :staff_count, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-top
    %label.uk-form-label Number of job roles
    .uk-form-controls
      = f.input :job_role_count, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :job_role_count, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-top
    %label.uk-form-label Number of departments
    .uk-form-controls
      = f.input :department_count, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :department_count, class: 'uk-text-small uk-text-warning'

  .uk-width-1-1.uk-margin-top
    %hr.uk-width-1-1
    %h4.uk-text-bold Finance
  .uk-width-medium-1-1.uk-margin-top.uk-margin-bottom
    %label.uk-form-label Currency
    .uk-text-small
      Select a currency for the following figures
    .uk-form-controls
      = f.input :currency, collection: Profile::CURRENCY, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :currency, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-bottom
    %label.uk-form-label
      Income
    .uk-form-controls
      = f.input :income, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :income, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-bottom
    %label.uk-form-label
      Actual figures?
      %a{"data-uk-toggle" => "{target:'#income_actual_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :income_actual, class: 'uk-text-small uk-hidden', id: 'income_actual_hint'
    .uk-form-controls
      = f.input :income_actual, as: :select, input_html: { class: 'uk-width-1-1' }
      = f.error :income_actual, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-bottom
    %label.uk-form-label
      Expenditure
    .uk-form-controls
      = f.input :expenditure, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :expenditure, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-bottom
    %label.uk-form-label
      Actual figures?
      %a{"data-uk-toggle" => "{target:'#expenditure_actual_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :expenditure_actual, class: 'uk-text-small uk-hidden', id: 'expenditure_actual_hint'
    .uk-form-controls
      = f.input :expenditure_actual, as: :select, input_html: { class: 'uk-width-1-1' }
      = f.error :expenditure_actual, class: 'uk-text-small uk-text-warning'

  .uk-width-1-1
    %hr.uk-width-1-1.uk-margin-top
    %h4.uk-text-bold Work
  .uk-width-1-1.uk-margin-top.uk-margin-bottom
    %label.uk-form-label How do you implement your work?
    .uk-form-controls
      = f.association :implementations, label_method: :label, value_method: :id, input_html: {class: 'chosen-select'}
      = f.error :implementations, class: 'uk-text-small uk-text-warning'

  .uk-width-medium-1-1.uk-margin-bottom
    %label.uk-form-label
      Does your organisation provide products or services?
      %a{"data-uk-toggle" => "{target:'#goods_services_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :goods_services, class: 'uk-text-small uk-hidden', id: 'goods_services_hint'
    .uk-form-controls
      = f.input :goods_services, collection: Profile::GOODS_SERVICES, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :goods_services, class: 'uk-text-small uk-text-warning'

  .uk-width-medium-1-2.uk-margin-bottom
    %label.uk-form-label Number of services provided
    .uk-form-controls
      = f.input :services_count, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :services_count, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-2.uk-margin-bottom
    %label.uk-form-label Number of products provided
    .uk-form-controls
      = f.input :goods_count, input_html: { class: 'uk-width-1-1' }
      = f.error :goods_count, class: 'uk-text-small uk-text-warning'

  .uk-width-medium-1-1.uk-margin-bottom
    %label.uk-form-label
      Do you sell the products or services your organisation supplies?
      %a{"data-uk-toggle" => "{target:'#who_pays_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :who_pays, class: 'uk-text-small uk-hidden', id: 'who_pays_hint'
    .uk-form-controls
      = f.input :who_pays, collection: Profile::WHO_PAYS, type: 'text', input_html: { class: 'uk-width-1-1' }
      = f.error :who_pays, class: 'uk-text-small uk-text-warning'

  .uk-width-medium-2-3.uk-margin-bottom
    %label.uk-form-label
      How many people did your service(s) benefit?
      %a{"data-uk-toggle" => "{target:'#beneficiaries_count_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :beneficiaries_count, class: 'uk-text-small uk-hidden', id: 'beneficiaries_count_hint'
    .uk-form-controls
      = f.input :beneficiaries_count, input_html: { class: 'uk-width-1-1' }
      = f.error :beneficiaries_count, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-3.uk-margin-bottom
    %label.uk-form-label
      Actual figures?
      %a{"data-uk-toggle" => "{target:'#beneficiaries_count_actual_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :beneficiaries_count_actual, class: 'uk-text-small uk-hidden', id: 'beneficiaries_count_actual_hint'
    .uk-form-controls
      = f.input :beneficiaries_count_actual, as: :select, input_html: { class: 'uk-width-1-1' }
      = f.error :beneficiaries_count_actual, class: 'uk-text-small uk-text-warning'

  .uk-width-medium-2-3.uk-margin-bottom
    %label.uk-form-label
      How many product(s) did you deliver?
      %a{"data-uk-toggle" => "{target:'#units_count_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :units_count, class: 'uk-text-small uk-hidden', id: 'units_count_hint'
    .uk-form-controls
      = f.input :units_count, input_html: { class: 'uk-width-1-1' }
      = f.error :units_count, class: 'uk-text-small uk-text-warning'
  .uk-width-medium-1-3.uk-margin-bottom
    %label.uk-form-label
      Actual figures?
      %a{"data-uk-toggle" => "{target:'#units_count_actual_hint'}"}
        %i.uk-icon-question-circle
    = f.hint :units_count_actual, class: 'uk-text-small uk-hidden', id: 'units_count_actual_hint'
    .uk-form-controls
      = f.input :units_count_actual, as: :select, input_html: { class: 'uk-width-1-1' }
      = f.error :units_count_actual, class: 'uk-text-small uk-text-warning'

    - if @redirect_to_funder
      = f.hidden_field :redirect_to_funder, value: @redirect_to_funder
  .uk-width-medium-1-1
    = f.submit 'Save', class: 'uk-button uk-button-primary uk-width-1-1', style: 'color: #fff;'
