= content_for :title, 'Team'

= simple_form_for [@recipient, @profile], method: :patch, remote: true, authenticity_token: true do |f|
  .uk-form.uk-form-stacked.form
    .cta
      %strong Don't have exact figures?
      Not a problem. Simply give an estimate, you can easily update them later on.

    .uk-grid
      .uk-width-large-1-3.uk-margin-bottom
        .label No. of employees
        - if @recipient.charity_employees && @recipient.charity_year_ending
          %small
            According to the Charity Commission you had
            %strong= @recipient.charity_employees
            employees in
            = succeed '.' do
              %strong= @recipient.charity_year_ending.to_date.year
        = f.input :staff_count, input_html: { class: 'uk-width-1-1 large', min: 0 }
        = f.error :staff_count, class: 'error-message'

      .uk-width-large-1-3.uk-margin-bottom
        .label No. of volunteers
        - if @recipient.charity_volunteers && @recipient.charity_year_ending
          %small
            According to the Charity Commission you had
            %strong= @recipient.charity_volunteers
            volunteers in
            = succeed '.' do
              %strong= @recipient.charity_year_ending.to_date.year
        = f.input :volunteer_count, input_html: { class: 'uk-width-1-1 large', min: 0 }
        = f.error :volunteer_count, class: 'error-message'

      .uk-width-large-1-3.uk-margin-bottom
        .label No. of trustees
        - if @recipient.charity_trustees && @recipient.charity_year_ending
          %small
            According to the Charity Commission you had
            %strong= @recipient.charity_trustees
            trustees in
            = succeed '.' do
              %strong= @recipient.charity_year_ending.to_date.year
        = f.input :trustee_count, input_html: { class: 'uk-width-1-1 large', min: 0 }
        = f.error :trustee_count, class: 'error-message'

    .uk-width-medium-1-1
      .label Who implements your work?
      %small.muted Select as many as applicable
      = f.association :implementors, as: :check_boxes, label_method: :label, value_method: :id
      .uk-width-medium-1-2
        .checkbox.wide= f.input :implementors_other_required, as: :boolean, inline_label: 'Other', input_html: { class: 'toggle-other' }
        .other.uk-hidden
          = f.input :implementors_other, input_html: { class: 'large other uk-width-medium-1-1' }
          = f.error :implementors_other, class: 'error-message other'

  - unless @profile.state == 'complete'
    = f.button :button, 'Next', class: 'uk-button uk-button-primary uk-margin-top uk-button-large uk-width-medium-1-2 uk-float-right', data: {disable_with: "<i style='color: #fff;' class='uk-icon uk-icon-circle-o-notch uk-icon-spin'></i><span style='color: #fff;'> Over half way!</span>"}
